{"ast":null,"code":"var _jsxFileName = \"F:\\\\client-side\\\\apartments\\\\src\\\\components\\\\Client_Current_Product.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom'; // import React, { Component, useEffect, useState } from 'react';\n// import { useParams } from \"react-router-dom\";\n\nimport Our_Client from \"./Our_Client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Client_Current_Product(props) {\n  _s();\n\n  const [product, setProduct] = useState({});\n  let navigate = useNavigate();\n  let location = useLocation(); // const [category, setCategory] = useState(\"\");\n  // let { itemCode } = useParams();\n\n  let itemCode = location.state.CodeItem;\n  let items = location.state.products;\n  let myproduct = location.state.myproduct;\n  useEffect(() => {\n    let item = items.filter(i => i.CodeItem == itemCode);\n    setProduct(item[0]);\n  }, []);\n  let user = sessionStorage.getItem(\"currentuser\"); // let currentUser = JASON.parse(user.password);\n\n  let currentUser = JSON.parse(user);\n\n  async function addToCart() {\n    let helparrray = [];\n\n    if (currentUser.cart.length > 0) {\n      //             let aaa=[];\n      // animals.map((it,i)=>{\n      // if(it=='pigs'){\n      // aaa.push('cows');\n      // }else{\n      // aaa.push(it);\n      // }\n      // })\n      // \n      //     let today=new Date();\n      //     let date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\n      // let res=   await fetch(`http://localhost:3678/orders/add`, {\n      //         method: 'POST',\n      //         headers: {\n      //             'Accept': 'application/json',\n      //             'Content-Type': 'application/json'\n      //         },\n      //         body:JSON.stringify({customerid:currentUser.password,orderprice:0,date: date,status:0})\n      //     });\n      //     res=await res.json();\n      let istrue = false;\n      currentUser.cart.map(item => {\n        if (itemCode === item.CodeItem) {\n          istrue = true;\n          console.log(item.QuantityItem + 1); // ,OrderID: itemorderid\n\n          helparrray.push({\n            CodeCategory: item.CodeCategory,\n            CodeItem: item.CodeItem,\n            ItemName: item.ItemName,\n            Price: item.Price,\n            QuantityItem: item.QuantityItem + 1,\n            description: item.description,\n            path: item.path\n          });\n        } else {\n          helparrray.push({\n            CodeCategory: item.CodeCategory,\n            CodeItem: item.CodeItem,\n            ItemName: item.ItemName,\n            Price: item.Price,\n            QuantityItem: item.QuantityItem,\n            description: item.description,\n            path: item.path\n          });\n        }\n      }); // sessionStorage.setItem(\"currentuser\", JSON.stringify({ password: password_value, user_name: user_name_value ,cart:[]}));\n\n      console.log(helparrray);\n\n      if (istrue) {\n        sessionStorage.setItem('currentuser', JSON.stringify({\n          password: currentUser.password,\n          user_name: currentUser.user_name,\n          cart: helparrray,\n          OrderID: currentUser.OrderID\n        }));\n      } else {\n        helparrray.push({\n          CodeCategory: myproduct.CodeCategory,\n          CodeItem: myproduct.CodeItem,\n          ItemName: myproduct.ItemName,\n          Price: myproduct.Price,\n          QuantityItem: 1,\n          description: myproduct.description,\n          path: myproduct.path\n        });\n        sessionStorage.setItem('currentuser', JSON.stringify({\n          password: currentUser.password,\n          user_name: currentUser.user_name,\n          cart: helparrray,\n          OrderID: currentUser.OrderID\n        }));\n      }\n\n      alert(\"Successfully added to your cart!!\");\n    } else {\n      helparrray.push({\n        CodeCategory: myproduct.CodeCategory,\n        CodeItem: myproduct.CodeItem,\n        ItemName: myproduct.ItemName,\n        Price: myproduct.Price,\n        QuantityItem: 1,\n        description: myproduct.description,\n        path: myproduct.path\n      });\n      sessionStorage.setItem('currentuser', JSON.stringify({\n        password: currentUser.password,\n        user_name: currentUser.user_name,\n        cart: helparrray,\n        OrderID: currentUser.OrderID\n      }));\n      alert(\"Successfully added to your cart!!\");\n    }\n\n    navigate(\"/client\");\n    console.log(\"addtocart\"); // let itemIC = await fetch(`http://localhost:3678/addToCart`, {\n    //     method: 'POST',\n    //     headers: {\n    //         'Accept': 'application/json',\n    //         'Content-Type': 'application/json'\n    //     },\n    //     body: JSON.stringify({\n    //         CodeItem: product.CodeItem,\n    //         orderid: currentUser.password\n    //     })\n    // });\n  }\n\n  async function forShoppingCart() {\n    navigate(\"/client/shopingCart\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: product.ItemName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"price:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: product.Price\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => addToCart(),\n      children: \"add to shopping cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 75\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: forShoppingCart,\n      children: \"to shopping cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Client_Current_Product, \"Tu49Dxn3If0Y02CZYZETVdmFOPc=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = Client_Current_Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Client_Current_Product\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useLocation","Our_Client","Client_Current_Product","props","product","setProduct","navigate","location","itemCode","state","CodeItem","items","products","myproduct","item","filter","i","user","sessionStorage","getItem","currentUser","JSON","parse","addToCart","helparrray","cart","length","istrue","map","console","log","QuantityItem","push","CodeCategory","ItemName","Price","description","path","setItem","stringify","password","user_name","OrderID","alert","forShoppingCart","e"],"sources":["F:/client-side/apartments/src/components/Client_Current_Product.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useLocation } from 'react-router-dom';\r\n// import React, { Component, useEffect, useState } from 'react';\r\n// import { useParams } from \"react-router-dom\";\r\nimport Our_Client from \"./Our_Client\";\r\nexport default function Client_Current_Product(props) {\r\n    const [product, setProduct] = useState({});\r\n    let navigate = useNavigate();\r\n    let location = useLocation();\r\n    // const [category, setCategory] = useState(\"\");\r\n    // let { itemCode } = useParams();\r\n    let itemCode = location.state.CodeItem;\r\n    let items = location.state.products;\r\nlet myproduct=location.state.myproduct;\r\n    useEffect(() => {\r\n        let item = items.filter(i => i.CodeItem == itemCode);\r\n        setProduct(item[0]);\r\n    }, []);\r\n\r\n    let user = sessionStorage.getItem(\"currentuser\");\r\n    // let currentUser = JASON.parse(user.password);\r\n    let currentUser = JSON.parse(user);\r\n\r\n\r\n\r\n\r\n    async function addToCart() {\r\n\r\n        let helparrray=[];\r\n        if (currentUser.cart.length > 0) {\r\n            //             let aaa=[];\r\n            // animals.map((it,i)=>{\r\n            // if(it=='pigs'){\r\n            // aaa.push('cows');\r\n            // }else{\r\n            // aaa.push(it);\r\n            // }\r\n            // })\r\n            // \r\n        //     let today=new Date();\r\n        //     let date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n        // let res=   await fetch(`http://localhost:3678/orders/add`, {\r\n        //         method: 'POST',\r\n        //         headers: {\r\n        //             'Accept': 'application/json',\r\n        //             'Content-Type': 'application/json'\r\n        //         },\r\n        //         body:JSON.stringify({customerid:currentUser.password,orderprice:0,date: date,status:0})\r\n        //     });\r\n        //     res=await res.json();\r\n            let istrue=false;\r\n            currentUser.cart.map((item) => {\r\n                if (itemCode === item.CodeItem) {\r\n                istrue=true;\r\n                console.log((item.QuantityItem + 1));\r\n                // ,OrderID: itemorderid\r\n                    helparrray.push({ CodeCategory:item.CodeCategory, CodeItem: item.CodeItem,ItemName:item.ItemName,Price:item.Price,QuantityItem:(item.QuantityItem + 1) ,description:item.description,path:item.path  });\r\n                }\r\n                else {\r\n                    helparrray.push({ CodeCategory:item.CodeCategory, CodeItem: item.CodeItem,ItemName:item.ItemName,Price:item.Price,QuantityItem:(item.QuantityItem ) ,description:item.description,path:item.path  });\r\n                }\r\n            })\r\n            // sessionStorage.setItem(\"currentuser\", JSON.stringify({ password: password_value, user_name: user_name_value ,cart:[]}));\r\n            console.log(helparrray);\r\n            if(istrue){\r\n                sessionStorage.setItem('currentuser', JSON.stringify({password:currentUser.password,user_name:currentUser.user_name,cart:helparrray ,OrderID:currentUser.OrderID }));\r\n            }else{\r\n                helparrray.push({CodeCategory: myproduct.CodeCategory,\r\n                    CodeItem: myproduct.CodeItem,\r\n                    ItemName: myproduct.ItemName,\r\n                    Price: myproduct.Price,\r\n                    QuantityItem: 1,\r\n                    description: myproduct.description,\r\n                    path:myproduct.path});\r\n                sessionStorage.setItem('currentuser',JSON.stringify({password:currentUser.password,user_name:currentUser.user_name,cart:helparrray,OrderID:currentUser.OrderID}));\r\n            }\r\n            alert(\"Successfully added to your cart!!\");\r\n        }else{\r\n            helparrray.push({CodeCategory: myproduct.CodeCategory,\r\n                CodeItem: myproduct.CodeItem,\r\n                ItemName: myproduct.ItemName,\r\n                Price: myproduct.Price,\r\n                QuantityItem:1,\r\n                description: myproduct.description,\r\n                path:myproduct.path});\r\n            sessionStorage.setItem('currentuser',JSON.stringify({password:currentUser.password,user_name:currentUser.user_name,cart:helparrray,OrderID:currentUser.OrderID}));\r\n            alert(\"Successfully added to your cart!!\");\r\n        }\r\n        navigate(\"/client\");\r\n        console.log(\"addtocart\");\r\n        // let itemIC = await fetch(`http://localhost:3678/addToCart`, {\r\n        //     method: 'POST',\r\n        //     headers: {\r\n        //         'Accept': 'application/json',\r\n        //         'Content-Type': 'application/json'\r\n        //     },\r\n        //     body: JSON.stringify({\r\n        //         CodeItem: product.CodeItem,\r\n        //         orderid: currentUser.password\r\n        //     })\r\n        // });\r\n    }\r\n    \r\n    async function forShoppingCart() {\r\n        navigate(\"/client/shopingCart\");\r\n    }\r\n\r\n\r\n    return (<div>\r\n        {/* <img src=\"{product[0].path}\" alt=\"item\" /> */}\r\n        <p>{product.ItemName}</p>\r\n        <p>{product.description}</p>\r\n        <p>price:</p><p>{product.Price}</p>\r\n        <button onClick={(e) => addToCart()}>add to shopping cart</button><br />\r\n        <button onClick={forShoppingCart}>to shopping cart</button>\r\n    </div>);\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}