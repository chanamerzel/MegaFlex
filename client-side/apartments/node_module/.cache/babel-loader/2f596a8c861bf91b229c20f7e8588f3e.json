{"ast":null,"code":"var _jsxFileName = \"E:\\\\client-side\\\\apartments\\\\src\\\\components\\\\Manager_Orderding_List.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Manager_Orderding_List(props) {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const [items, setItems] = useState([]);\n  const [show, setShow] = useState([false]);\n  useEffect(() => {\n    async function getAllOrders() {\n      let prod = await fetch(\"http://localhost:3678/orders/ordered\", {\n        method: 'GET'\n      });\n      let pro = await prod.json();\n      initShow(pro);\n      setOrders(pro);\n    }\n\n    getAllOrders();\n  }, []);\n\n  const initShow = pro => {\n    let arr = [];\n\n    for (let i = 0; i < pro.length; i++) {\n      arr.push(false);\n    }\n\n    setShow(arr);\n  };\n\n  async function updateOrder(order) {\n    let ans = await fetch(\"http://localhost:3678/orders/updateOrdered/2\", {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        OrderCode: order.OrderCode\n      })\n    });\n    ans = await ans.json();\n  }\n\n  async function isChecked(order) {\n    updateOrder(order);\n    let index = orders.indexOf(order);\n    orders.splice(index, 1);\n    setOrders(orders);\n    window.location.reload();\n  }\n\n  async function showItems(OrderCode, index) {\n    let prod = await fetch(`http://localhost:3678/orders/itemsInOrder/${OrderCode}`, {\n      method: 'GET'\n    });\n    let pro = await prod.json();\n    setItems(pro);\n    let arr = [...show];\n\n    for (let i = 0; i < arr.length; i++) {\n      if (i != index) {\n        arr[i] = false;\n      }\n    }\n\n    arr[index] = !arr[index];\n    setShow(arr);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"200px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            paddingTop: \"13px\",\n            marginBottom: \"43px\"\n          },\n          children: \"Order List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), orders.map((order, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title2\",\n            children: \"order:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"order code:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), order.OrderCode, /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), order.DateOrder, /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title2\",\n            children: \"client details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), order.FirstName, /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"adress:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), order.Address, /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"total payment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), order.OrderPrice, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"but\",\n            style: {\n              marginLeft: \"0px\"\n            },\n            onClick: () => {\n              showItems(order.OrderCode, index);\n            },\n            children: \"show items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), show[index] && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"title3\",\n                children: item.ItemName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img\",\n                src: `${myproduct.path}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title3\",\n            children: \"done:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"myCheck\",\n            onClick: e => {\n              isChecked(order);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 18\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Manager_Orderding_List, \"pBtIZ0r0nk97Kz97fTQ5Pki622k=\");\n\n_c = Manager_Orderding_List;\n\nvar _c;\n\n$RefreshReg$(_c, \"Manager_Orderding_List\");","map":{"version":3,"names":["React","useState","useEffect","Nav","Manager_Orderding_List","props","orders","setOrders","items","setItems","show","setShow","getAllOrders","prod","fetch","method","pro","json","initShow","arr","i","length","push","updateOrder","order","ans","headers","body","JSON","stringify","OrderCode","isChecked","index","indexOf","splice","window","location","reload","showItems","marginLeft","paddingTop","marginBottom","map","DateOrder","FirstName","Address","OrderPrice","item","ItemName","myproduct","path","e"],"sources":["E:/client-side/apartments/src/components/Manager_Orderding_List.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Nav from \"./Nav\"\r\nimport '../App.css';\r\n\r\nexport default function Manager_Orderding_List(props) {\r\n    const [orders, setOrders] = useState([]);\r\n    const [items, setItems] = useState([]);\r\n    const [show, setShow] = useState([false]);\r\n\r\n    useEffect(() => {\r\n        async function getAllOrders() {\r\n            let prod = await fetch(\"http://localhost:3678/orders/ordered\", {\r\n                method: 'GET'\r\n            });\r\n            let pro = await prod.json();\r\n            initShow(pro);\r\n            setOrders(pro);\r\n            \r\n\r\n        }\r\n        getAllOrders();\r\n    }, []);\r\n\r\n    const initShow=(pro)=>{\r\n        let arr=[];\r\nfor(let i=0;i<pro.length;i++){\r\n    arr.push(false);\r\n}\r\nsetShow(arr);\r\n    }\r\n    async function updateOrder(order) {\r\n        let ans = await fetch(\"http://localhost:3678/orders/updateOrdered/2\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                OrderCode: order.OrderCode\r\n\r\n            })\r\n        });\r\n        ans = await ans.json();\r\n    }\r\n\r\n    async function isChecked(order) {\r\n        updateOrder(order);\r\n        let index = orders.indexOf(order)\r\n        orders.splice(index, 1);\r\n        setOrders(orders);\r\n        window.location.reload();\r\n    }\r\n\r\n    async function showItems(OrderCode,index) {\r\n        let prod = await fetch(`http://localhost:3678/orders/itemsInOrder/${OrderCode}`, {\r\n            method: 'GET'\r\n        });\r\n        let pro = await prod.json();\r\n        setItems(pro);\r\n        let arr=[...show];\r\n        for(let i=0;i<arr.length;i++)\r\n        {\r\n            if(i!=index)\r\n            {\r\n                arr[i]=false;\r\n            }\r\n        }\r\n\r\n        arr[index]=!arr[index];\r\n        setShow(arr);\r\n    }\r\n\r\n  \r\n    return (<div>\r\n        <Nav />\r\n        <div className='grid2'>\r\n        <div style={{marginLeft:\"200px\"}} >\r\n                <h1 style={{paddingTop: \"13px\",marginBottom: \"43px\"}}>Order List</h1>\r\n            {orders.map((order, index) =>\r\n                (<div className=\"box2\" key={index}>\r\n                    <p className='title2'>order:</p>\r\n                    <p className='title3'>order code:</p>\r\n                    {order.OrderCode}\r\n\r\n                    <p className='title3'>date:</p>\r\n                    {order.DateOrder}\r\n                    <p className='title2'>client details:</p>\r\n                    <p className='title3'>name:</p>\r\n                    {order.FirstName}\r\n                    <p className='title3'>adress:</p>\r\n                    {order.Address}\r\n                    <p className='title3'>total payment:</p>\r\n                    {order.OrderPrice}<br></br><br />\r\n                    <button className=\"but\" style={{marginLeft:\"0px\"}} onClick={() => { showItems(order.OrderCode,index) }}>show items</button>\r\n                    {show[index]&&<div>{items.map((item)=>\r\n                    <div>\r\n                    <p className=\"title3\">{item.ItemName}</p>\r\n                    <img className='img' src={`${myproduct.path}`} />\r\n                   </div>\r\n                    )}\r\n                    </div>}\r\n                    <p className='title3'>done:</p>\r\n                    <input type=\"checkbox\" id=\"myCheck\" onClick={(e) => { isChecked(order) }}></input>\r\n                </div>)\r\n            )}\r\n        </div>\r\n    </div>\r\n    </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}